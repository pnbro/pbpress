
:root{
	--file-item-icon-color: @brand-primary;
	--file-item-text-color: var(--root-gray-dark-d1);
}

.file-item{
	position: relative;
	.pb-flexbox(center;flex-start; row; nowrap);

	> .icon{
		position: relative;
		display: block;
		margin-right: 5px;
		.pb-background-mask(~"url(../img/icon-file.svg)"; var(--file-item-icon-color); contain);
		width: 20px;
		height: 20px;
	}

	> .icon.image{
		-webkit-mask-size: none;
				mask-size: none;

		-webkit-mask-position: none;
				mask-position: none;

		-webkit-mask-repeat: none;
				mask-repeat: none;

		-webkit-mask-image: none;
				mask-image: none;

		.pb-background-default(cover);
		background-color: white;
		border-radius: 3px;
		width: 30px;
		height: 30px;
		.pb-flexbox(center; center; row; wrap);
		overflow: hidden;

		> .preview{
			position: relative;
			display: block;
			width: 100%;
			height: auto;
		}
	}

	> .text{
		position: relative;
		display: block;
		text-align: left;
		color: var(--file-item-text-color);
		font-size: 12px;
	}
}

:root{
	--file-item-delete-color: @root-brand-danger;
}

.file-item-list{
	position: relative;
	.pb-flexbox(center;center;row;wrap);
	margin: -5px -7px;

	> .file-item{
		margin: 5px 7px;

		> .delete-btn{
			position: relative;
			display: block;
			margin-left: 10px;
			.pb-background-mask(~"url(../img/icon-delete.svg)"; var(--file-item-delete-color); contain);
			width: 18px;
			height: 18px;
		}
	}

	&.align-left{
		.pb-flexbox(center;flex-start;row;wrap);
	}
}

.fileupload-button{
	position: relative;
	overflow: hidden;
	display: inline-block;


	> .loading-indicator{
		.btn;
		.btn-default;
		display: none;

		> .pb-loading-indicator{
			height: 20px;
			width: 20px;
		}
	}
	

	> input {
		position: absolute;
		top: 0;
		right: 0;
		margin: 0;
		opacity: 0;
		-ms-filter: 'alpha(opacity=0)';
		font-size: 200px !important;
		direction: ltr;
		cursor: pointer;
	}

	> .button-wrapper{
		
		.btn;
		.btn-default;
		.pb-flexbox(center;flex-start;row;nowrap);
		> .label-icon{
			position: relative;
			display: block;
			margin-right: 3px;
			.pb-background-mask(~"url(../img/icon-addfile.svg)"; @brand-primary; contain);
			width: 20px;
			height: 20px;
		}
	}


	&.loading{
		
		> .loading-indicator{
			.pb-flexbox(center;flex-start;row;nowrap);
		}

		> .button-wrapper{
			display: none;
		}
	}


}

:root{
	--pb-file-dropzone-padding: 25px 15px;
	--pb-file-dropzone-background-color: @root-gray-light2;
	--pb-file-dropzone-color: @root-gray-light;
	--pb-file-dropzone-font-size: 12px;
	--pb-file-dropzone-border-color: var(--root-brand-primary-light2);

	--pb-file-dropzone-drag-background-color: lighten(@root-brand-primary-light2, 35%);
	--pb-file-dropzone-drag-border-color: var(--root-brand-primary-light1);
	--pb-file-dropzone-drag-color: lighten(@root-brand-primary-light2, 7%);

	--pb-file-dropzone-pre-notvalid-background-color: lighten(@root-brand-danger, 35%);
	--pb-file-dropzone-pre-notvalid-border-color: lighten(@root-brand-danger, 20%);
	--pb-file-dropzone-pre-notvalid-color: @root-brand-danger;
}

.pb-file-dropzone{
	position: relative;
	display: block;
	background-color: var(--pb-file-dropzone-background-color);
	
	-webkit-transition: background-color .3s, color .3s, border .3s;
			transition: background-color .3s, color .3s, border .3s;

	color: var(--pb-file-dropzone-color);
	padding: var(--pb-file-dropzone-padding);

	> .wrapper{
		.pb-flexbox(center;center;column;wrap);
		-webkit-transition: margin .3s, opacity .3s;
				transition: margin .3s, opacity .3s;

		min-height: 150px;

		> .icon{
			position: relative;
			display: block;
			.pb-background-mask(~"url(../img/icon-addfile.svg)"; var(--pb-file-dropzone-color); contain);
			width: 25px;
			height: 25px;
			margin-bottom: 10px;

			-webit-transform: scale(1.0);
					transform: scale(1.0);
			
			-webkit-transition: margin .3s, opacity .3s, background-color .3s, -webit-transform .3s;
					transition: margin .3s, opacity .3s, background-color .3s, transform .3s;

		}

		> .text{
			color: var(--pb-file-dropzone-color);
			font-size: var(--pb-file-dropzone-font-size);
			text-align: center;
			margin-bottom: 15px;
			-webkit-transition: color .3s;
					transition: color .3s;
		}

		> .btn-select{
			position: relative;
			.btn;
			.btn-primary;
			overflow: hidden;

			-webkit-transition: margin .3s, opacity .3s;
					transition: margin .3s, opacity .3s;

			opacity: 1;
			margin-top: 0px;

			> input {
				position: absolute;
				top: 0;
				right: 0;
				margin: 0;
				opacity: 0;
				-ms-filter: 'alpha(opacity=0)';
				font-size: 200px !important;
				direction: ltr;
				cursor: pointer;
			}
		}


		> .preview{

		}
	}

	&:after{
		position: absolute;
		display: block;
		content: "";
		left: 5px;
		top: 5px;
		width: ~"calc(100% - 10px)";
		height: ~"calc(100% - 10px)";
		border: 1px dashed var(--pb-file-dropzone-border-color);
		opacity: 0.5;
		pointer-events: none;
		user-select: none;

		-webkit-transition: opacity .3s, border .3s;
				transition: opacity .3s, border .3s;
		// border-radius: ;
	}

	
	&.drag-in{
		--pb-file-dropzone-background-color: var(--pb-file-dropzone-drag-background-color);
		--pb-file-dropzone-border-color: var(--pb-file-dropzone-drag-border-color);
		--pb-file-dropzone-color: var(--pb-file-dropzone-drag-color);

		> .wrapper.noselect{
			margin-top: 20px;
			margin-bottom: -20px;
			> .btn-select{
				// margin-top: -100%;
				opacity: 0;
			}

			> .icon{
				-webit-transform: scale(1.3);
						transform: scale(1.3);
				margin-bottom: 15px;

			}
		}

		&.pre-not-valid{
			--pb-file-dropzone-background-color: var(--pb-file-dropzone-pre-notvalid-background-color);
			--pb-file-dropzone-border-color: var(--pb-file-dropzone-pre-notvalid-border-color);
			--pb-file-dropzone-color: var(--pb-file-dropzone-pre-notvalid-color);

			> .wrapper.noselect{
				> .icon{
					.pb-background-mask(~"url(../img/icon-filenotallow.svg)"; var(--pb-file-dropzone-color); contain);
				}
			}
		}
	}

	

	> .wrapper.noselect{
		.pb-flexbox(center;center;column;wrap);
	}
	> .wrapper.selected{
		display: none;

		> .btn-select{
			margin-top: 20px;
			margin-bottom: -20px;
			opacity: 0;
			pointer-events: none;
			user-select: none;

			transition: opacity .1s, margin .1s;
		}

		&.addable{
			> .btn-select{
				margin-bottom: 0px;
				opacity: 1;
				pointer-events: auto;
				user-select: auto;
			}
		}
	}
	> .wrapper.loading{
		display: none;

		> .loading-indicator{
			.pb-flexbox(center;flex-start;row;nowrap);
			> .pb-loading-indicator{
				height: 50px;
				width: 50px;
			}
			margin-bottom: 20px;
		}

		> .progress{
			max-width: 300px;
			width: 100%;
			height: 18px;
			margin-bottom: 0px;
			border-radius: 18px;
			> .progress-bar{
				line-height: 18px;
			}
		}

	}

	&.selected{
		> .wrapper.noselect,
		> .wrapper.loading{
			display: none;
		}
		> .wrapper.selected{
			.pb-flexbox(center;center;column;nowrap);
		}
	}

	&.loading{
		> .wrapper.noselect,
		> .wrapper.selected{
			display: none;
		}
		> .wrapper.loading{
			.pb-flexbox(center;center;column;nowrap);
		}
		
	}



}

:root{
	--pb-fileinput-padding: 25px 15px;
	--pb-fileinput-background-color: @root-gray-light2;
	--pb-fileinput-inner-div-color: var(--root-gray-light2-d1);

	--pb-fileinput-imagecard-width: 150px;
	--pb-fileinput-imagecard-height: 150px;
}

.pb-fileinput{
	.pb-flexbox(flex-start;flex-start;column;wrap);

	
	background-color: var(--pb-fileinput-background-color);

	> .file-item-list{
		.pb-flexbox(center;flex-start;row;wrap);
		
		width: ~"calc(100% - 30px)";
		-webkit-transition: margin-top .3s, padding-top .3s, margin-bottom .3s, padding-bottom .3s, border .3s;
				transition: margin-top .3s, padding-top .3s, margin-bottom .3s, padding-bottom .3s, border .3s;
		// border-bottom: 1px solid transparent;
		margin-bottom: 0px;
		padding-bottom: 0px;


	}

	.pb-file-dropzone{
		width: 100%;
		-webkit-transition: margin .3s, padding .3s, border .3s, opacity .3s, max-height .3s, height .3s;
				transition: margin .3s, padding .3s, border .3s, opacity .3s, max-height .3s, height .3s;
		pointer-events: none;
		max-height: 0px;
		padding: 0px 15px;
		opacity: 0;
		overflow: hidden;

		// &:after{
		// 	left: 0px;
		// 	top: 0px;
		// 	width: 100%;
		// 	height: 100%;
		// }

		> .wrapper{
			min-height: 0px;
		}
	}

	&.addable{
		> .pb-file-dropzone{
			margin-bottom: 0px;
			margin-top: 0px;
			opacity: 1;
			max-height: 250px;
			pointer-events: auto;
			padding: 20px 15px;
		}

		&.file-selected{
			> .file-item-list{
				// border-bottom: 1px solid var(--pb-fileinput-inner-div-color);
				// margin: 15px;
			}
		}
	}

	&.file-selected{
		> .file-item-list{
			// border-bottom: 1px solid var(--pb-fileinput-inner-div-color);
			margin: 15px;
			width: ~"calc(100% - 30px);";
		}
	}

	&.simple{
		.pb-file-dropzone{
			> .wrapper{
				> .text{
					display: none !important;
				}
			}
		}	
	}

	&.for-image{

		&.file-selected{
			> .file-item-list{
				margin: 15px 10px;
				width: ~"calc(100% - 20px);";
			}
		}
		.file-item{
			.pb-flexbox(center;center; column; nowrap);
			width: var(--pb-fileinput-imagecard-width);
			height: var(--pb-fileinput-imagecard-height);
			> .icon{
				position: absolute;
				width: 100%;
				height: 100%;
				left: 0px;
				top: 0px;
				z-index: 1;
			}

			> .text{
				position: absolute;
				padding: 5px 5px;
				left: 0px;
				bottom:0px;
				color: white;
				background-color: rgba(0,0,0,0.5);
				z-index: 2;
				text-overflow: ellipsis;
				white-space: nowrap;
				overflow: hidden;
				width: 100%;
			}

			> .delete-btn{
				position: absolute;
				right: 10px;
				top: 10px;
				z-index: 3;
			}

		}
	}

	@media (max-width: @screen-xs-max){
		--pb-fileinput-imagecard-width: ~"calc(50% - 14px)";
	}

}

.pb-file-hide{
	width:0px;
	overflow:hidden;
	content:"";
	padding: 0;
	font-size: 0;
	border:none;
	height: 40px;
	box-shadow: none;
	align-items: center;
	align-self: center;
	align-content: center;

}